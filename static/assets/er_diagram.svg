<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="700" viewBox="0 0 1200 700">
  <style>
    .box { fill: #ffffff; stroke: #111827; stroke-width: 2; rx: 10; }
    .title { font: 700 18px system-ui, -apple-system, Segoe UI, Roboto, Arial; fill: #111827; }
    .text { font: 14px system-ui, -apple-system, Segoe UI, Roboto, Arial; fill: #111827; }
    .muted { fill: #374151; }
    .line { stroke: #111827; stroke-width: 2; fill: none; }
    .arrow { fill: #111827; }
  </style>

  <rect class="box" x="80" y="90" width="300" height="210"/>
  <text class="title" x="100" y="125">Grupo</text>
  <text class="text muted" x="100" y="155">id (UUID) PK</text>
  <text class="text muted" x="100" y="175">nome</text>
  <text class="text muted" x="100" y="195">descricao</text>
  <text class="text muted" x="100" y="215">createdAt / updatedAt</text>

  <rect class="box" x="80" y="360" width="300" height="260"/>
  <text class="title" x="100" y="395">Usuario</text>
  <text class="text muted" x="100" y="425">id (UUID) PK</text>
  <text class="text muted" x="100" y="445">email UK</text>
  <text class="text muted" x="100" y="465">senhaHash</text>
  <text class="text muted" x="100" y="485">nivel (NORMAL/ADMIN/ADMIN_GERAL)</text>
  <text class="text muted" x="100" y="505">grupoId (UUID) FK → Grupo.id</text>
  <text class="text muted" x="100" y="525">createdAt / updatedAt</text>

  <rect class="box" x="500" y="90" width="360" height="280"/>
  <text class="title" x="520" y="125">Agente</text>
  <text class="text muted" x="520" y="155">id (UUID) PK</text>
  <text class="text muted" x="520" y="175">nome</text>
  <text class="text muted" x="520" y="195">configuracoes (JSON)</text>
  <text class="text muted" x="520" y="215">vetorEmbedding (pgvector)</text>
  <text class="text muted" x="520" y="235">grupoId (UUID) FK → Grupo.id</text>
  <text class="text muted" x="520" y="255">criadoPorId (UUID) FK → Usuario.id</text>
  <text class="text muted" x="520" y="275">createdAt / updatedAt</text>

  <rect class="box" x="500" y="420" width="360" height="200"/>
  <text class="title" x="520" y="455">AccessToken</text>
  <text class="text muted" x="520" y="485">id (UUID) PK</text>
  <text class="text muted" x="520" y="505">jti UK</text>
  <text class="text muted" x="520" y="525">usuarioId (UUID) FK → Usuario.id</text>
  <text class="text muted" x="520" y="545">expiresAt / revokedAt / createdAt</text>

  <path class="line" d="M 380 200 L 500 200"/>
  <polygon class="arrow" points="500,200 490,194 490,206"/>
  <text class="text" x="402" y="190">1</text>
  <text class="text" x="465" y="190">N</text>
  <text class="text muted" x="400" y="220">Grupo → Agente</text>

  <path class="line" d="M 230 300 L 230 360"/>
  <polygon class="arrow" points="230,360 224,350 236,350"/>
  <text class="text" x="210" y="330">1</text>
  <text class="text" x="245" y="330">N</text>
  <text class="text muted" x="255" y="335">Grupo → Usuario</text>

  <path class="line" d="M 380 490 L 500 490"/>
  <polygon class="arrow" points="500,490 490,484 490,496"/>
  <text class="text" x="402" y="480">1</text>
  <text class="text" x="465" y="480">N</text>
  <text class="text muted" x="400" y="510">Usuario → AccessToken</text>

  <path class="line" d="M 380 440 C 450 440 450 130 500 130"/>
  <polygon class="arrow" points="500,130 490,124 490,136"/>
  <text class="text" x="410" y="410">1</text>
  <text class="text" x="465" y="160">N</text>
  <text class="text muted" x="405" y="145">Usuario → Agente (criadoPor)</text>
</svg>
